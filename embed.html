<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snippeteer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="app.css">
    <link href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-tomorrow.css" rel="stylesheet" />
</head>
<body>
    <div id="embed">
        <div class="header">Rendered by <strong>Snippeteer</strong></div>
        <div id="code" class="code text-javascript">Loading...</code>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-markup.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-clike.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-css.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-javascript.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"></script>
    <script type="module">
        (async () => {
            const codeDiv = document.querySelector("#code");
            const searchParams = new URLSearchParams(location.search);
            const language = searchParams.get("lang") || 'plaintext';
            await import("https://cdn.jsdelivr.net/npm/prismjs/components/prism-" + language + ".js");
            const url = searchParams.get("url") || 'https://munchkinhalfling.solidcommunity.net/public/404.txt';
            const textOfUrl = await (await fetch(url)).text();
            codeDiv.innerHTML = Prism.highlight(textOfUrl, Prism.languages[language], language);
        })();
    </script>
</body> 
</html>